{"version":3,"sources":["../../js/common.js"],"names":["Date","prototype","Format","fmt","o","getMonth","getDate","getHours","getMinutes","getSeconds","Math","floor","getMilliseconds","test","replace","RegExp","$1","getFullYear","substr","length","k","add","field","value","isNaN","date","getTime","setFullYear","setMonth","setDate","setHours","setMinutes","setSeconds"],"mappings":";;AAAAA,KAAKC,SAAL,CAAeC,MAAf,GAAwB,UAAUC,GAAV,EAAe;AACnC,QAAIC,IAAI;AACJ,cAAM,KAAKC,QAAL,KAAkB,CADpB,EACuB;AAC3B,cAAM,KAAKC,OAAL,EAFF,EAEkB;AACtB,cAAM,KAAKC,QAAL,EAHF,EAGmB;AACvB,cAAM,KAAKC,UAAL,EAJF,EAIqB;AACzB,cAAM,KAAKC,UAAL,EALF,EAKqB;AACzB,cAAMC,KAAKC,KAAL,CAAW,CAAC,KAAKN,QAAL,KAAkB,CAAnB,IAAwB,CAAnC,CANF,EAMyC;AAC7C,aAAK,KAAKO,eAAL,EAPD,CAOwB;AAPxB,KAAR;AASA,QAAI,OAAOC,IAAP,CAAYV,GAAZ,CAAJ,EACIA,MAAMA,IAAIW,OAAJ,CAAYC,OAAOC,EAAnB,EAAuB,CAAC,KAAKC,WAAL,KAAqB,EAAtB,EAA0BC,MAA1B,CAAiC,IAAIH,OAAOC,EAAP,CAAUG,MAA/C,CAAvB,CAAN;AACJ,SAAK,IAAIC,CAAT,IAAchB,CAAd;AACI,YAAI,IAAIW,MAAJ,CAAW,MAAMK,CAAN,GAAU,GAArB,EAA0BP,IAA1B,CAA+BV,GAA/B,CAAJ,EACIA,MAAMA,IAAIW,OAAJ,CAAYC,OAAOC,EAAnB,EAAwBD,OAAOC,EAAP,CAAUG,MAAV,KAAqB,CAAtB,GAA4Bf,EAAEgB,CAAF,CAA5B,GAAqC,CAAC,OAAOhB,EAAEgB,CAAF,CAAR,EAAcF,MAAd,CAAqB,CAAC,KAAKd,EAAEgB,CAAF,CAAN,EAAYD,MAAjC,CAA5D,CAAN;AAFR,KAGA,OAAOhB,GAAP;AACH,CAhBD;;AAkBA;;;;;;AAMAH,KAAKC,SAAL,CAAeoB,GAAf,GAAqB,UAAUC,KAAV,EAAiBC,KAAjB,EAAwB;AACzCA,aAAS,CAAT;AACA,QAAIC,MAAMD,KAAN,CAAJ,EAAkB;AACdA,gBAAQ,CAAR;AACH;AACD;AACA,QAAIE,OAAO,IAAIzB,IAAJ,CAAS,KAAK0B,OAAL,EAAT,CAAX;AACA,YAAQJ,KAAR;AACI,aAAK,GAAL;AACIG,iBAAKE,WAAL,CAAiBF,KAAKR,WAAL,KAAqBM,KAAtC;AACA;AACJ,aAAK,GAAL;AACIE,iBAAKG,QAAL,CAAcH,KAAKpB,QAAL,KAAkBkB,KAAhC;AACA;AACJ,aAAK,GAAL;AACIE,iBAAKI,OAAL,CAAaJ,KAAKnB,OAAL,KAAiBiB,KAA9B;AACA;AACJ,aAAK,GAAL;AACIE,iBAAKK,QAAL,CAAcL,KAAKlB,QAAL,KAAkBgB,KAAhC;AACA;AACJ,aAAK,GAAL;AACIE,iBAAKM,UAAL,CAAgBN,KAAKjB,UAAL,KAAoBe,KAApC;AACA;AACJ,aAAK,GAAL;AACIE,iBAAKO,UAAL,CAAgBP,KAAKhB,UAAL,KAAoBc,KAApC;AACA;AACJ;AAnBJ;AAqBA,WAAOE,IAAP;AACH,CA7BD","file":"common.js","sourcesContent":["Date.prototype.Format = function (fmt) {\r\n    let o = {\r\n        \"M+\": this.getMonth() + 1, //月份\r\n        \"d+\": this.getDate(), //日\r\n        \"h+\": this.getHours(), //小时\r\n        \"m+\": this.getMinutes(), //分\r\n        \"s+\": this.getSeconds(), //秒\r\n        \"q+\": Math.floor((this.getMonth() + 3) / 3), //季度\r\n        \"S\": this.getMilliseconds() //毫秒\r\n    };\r\n    if (/(y+)/.test(fmt))\r\n        fmt = fmt.replace(RegExp.$1, (this.getFullYear() + \"\").substr(4 - RegExp.$1.length));\r\n    for (let k in o)\r\n        if (new RegExp(\"(\" + k + \")\").test(fmt))\r\n            fmt = fmt.replace(RegExp.$1, (RegExp.$1.length === 1) ? (o[k]) : ((\"00\" + o[k]).substr((\"\" + o[k]).length)));\r\n    return fmt;\r\n};\r\n\r\n/**\r\n * add value to the corresponding field without making changes to the origin {Date}\r\n * @param field\r\n * @param value\r\n * @returns {Date}\r\n */\r\nDate.prototype.add = function (field, value) {\r\n    value *= 1;\r\n    if (isNaN(value)) {\r\n        value = 0;\r\n    }\r\n    // make a copy\r\n    let date = new Date(this.getTime());\r\n    switch (field) {\r\n        case \"y\":\r\n            date.setFullYear(date.getFullYear() + value);\r\n            break;\r\n        case \"M\":\r\n            date.setMonth(date.getMonth() + value);\r\n            break;\r\n        case \"d\":\r\n            date.setDate(date.getDate() + value);\r\n            break;\r\n        case \"h\":\r\n            date.setHours(date.getHours() + value);\r\n            break;\r\n        case \"m\":\r\n            date.setMinutes(date.getMinutes() + value);\r\n            break;\r\n        case \"s\":\r\n            date.setSeconds(date.getSeconds() + value);\r\n            break;\r\n        default:\r\n    }\r\n    return date;\r\n};"]}